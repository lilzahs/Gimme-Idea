<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - Gimme Idea!</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">
</head>
<body>
  
  <!-- Matrix Background Effect -->
  <section>
    <!-- Spans s·∫Ω ƒë∆∞·ª£c generate b·∫±ng JS -->
  </section>

  <!-- Logo nh·ªè g√≥c tr√°i -->
  <a href="index.html" class="small-logo">
    <h2>Gimme Idea!</h2>
  </a>

  <!-- Form Register -->
  <div class="signin">
    <div class="content">
      <h2>Sign Up</h2>
      
      <form class="form" id="registerForm">
        <!-- Username -->
        <div class="inputBox">
          <input type="text" id="username" required minlength="3" />
          <i>Username</i>
        </div>
        
        <!-- Email -->
        <div class="inputBox">
          <input type="email" id="email" required />
          <i>Email</i>
        </div>
        
        <!-- Password -->
        <div class="inputBox">
            <input type="password" id="password" required minlength="6" />
            <i class="fa-solid fa-eye toggle-password" onclick="togglePassword()"></i>
            <i>Password</i>
          </div>
        
        <!-- Confirm Password -->
        <div class="inputBox">
            <input type="password" id="confirmPassword" required minlength="6" />
            <i class="fa-solid fa-eye toggle-password-confirm" onclick="toggleConfirmPassword()"></i>
            <i>Confirm Password</i>
          </div>
        
        <!-- Links -->
        <div class="links">
          <span></span> <!-- Empty ƒë·ªÉ cƒÉn ph·∫£i -->
          <a href="login.html">Already have account?</a>
        </div>
        
        <!-- Submit Button -->
        <div class="inputBox">
          <input type="submit" value="Register" />
        </div>
      </form>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="background.js"></script>
  <script src="wallet.js"></script>
  
  <!-- Register Logic -->
  <script>
    document.getElementById('registerForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const username = document.getElementById('username').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      // Validation: Check password match
      if (password !== confirmPassword) {
        alert('‚ùå M·∫≠t kh·∫©u kh√¥ng kh·ªõp!');
        return;
      }
      
      // Validation: Check password strength (t·ªëi thi·ªÉu 6 k√Ω t·ª±)
      if (password.length < 6) {
        alert('‚ùå M·∫≠t kh·∫©u ph·∫£i c√≥ √≠t nh·∫•t 6 k√Ω t·ª±!');
        return;
      }
      
      console.log('üìù ƒêang ƒëƒÉng k√Ω...');
      console.log('Username:', username);
      console.log('Email:', email);
      
      // TODO: G·ªçi API backend ƒë·ªÉ ƒëƒÉng k√Ω
      // const response = await fetch('/api/auth/register', {
      //   method: 'POST',
      //   headers: { 'Content-Type': 'application/json' },
      //   body: JSON.stringify({ username, email, password })
      // });
      
      // Gi·∫£ l·∫≠p ƒëƒÉng k√Ω th√†nh c√¥ng (X√ìA ƒêO·∫†N N√ÄY KHI C√ì BACKEND)
      setTimeout(() => {
        alert('‚úÖ ƒêƒÉng k√Ω th√†nh c√¥ng!\n\nVui l√≤ng ƒëƒÉng nh·∫≠p.');
        
        // Redirect sang login
        window.location.href = 'login.html';
      }, 1000);
    });
  </script>
  
</body>
</html>